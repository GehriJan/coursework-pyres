flowchart TD
    subgraph "-in_house(Cat),cat(Cat)" 
        subgraph "-in_house(Cat)"
            1["in"]
            2["out"]
        end
        subgraph "cat(Cat)"
            3["in"]
            4["out"]
        end
    end
    subgraph "-gazer(Gazer),suitable_pet(Gazer)"
        subgraph "-gazer(Gazer)"
            5["in"]
            6["out"]
        end
        subgraph "suitable_pet(Gazer)"
            7["in"]
            8["out"]
        end
    end
    subgraph "-detested(Detested),avoided(Detested)"
        subgraph "-detested(Detested)"
            9["in"]
            10["out"]
        end
        subgraph "avoided(Detested)"
            11["in"]
            12["out"]
        end
    end
    subgraph "-carnivore(Carnivore),prowler(Carnivore)"
        subgraph "-carnivore(Carnivore)"
            13["in"]
            14["out"]
        end
        subgraph "prowler(Carnivore)"
            15["in"]
            16["out"]
        end
    end
    subgraph "-cat(Cat),mouse_killer(Cat)"
        subgraph "-cat(Cat)"
            17["in"]
            18["out"]
        end
        subgraph "mouse_killer(Cat)"
            19["in"]
            20["out"]
        end
    end
    subgraph "-takes_to_me(Taken_animal),in_house(Taken_animal)"
        subgraph "-takes_to_me(Taken_animal)"
            21["in"]
            22["out"]
        end
        subgraph "in_house(Taken_animal)"
            23["in"]
            24["out"]
        end
    end
    subgraph "-kangaroo(Kangaroo),-suitable_pet(Kangaroo)"
        subgraph "-kangaroo(Kangaroo)"
            25["in"]
            26["out"]
        end
        subgraph "-suitable_pet(Kangaroo)"
            27["in"]
            28["out"]
        end
    end
    subgraph "-mouse_killer(Killer),carnivore(Killer)"
        subgraph "-mouse_killer(Killer)"
            29["in"]
            30["out"]
        end
        subgraph "carnivore(Killer)"
            31["in"]
            32["out"]
        end
    end
    subgraph "takes_to_me(Animal),detested(Animal)"
        subgraph "takes_to_me(Animal)"
            33["in"]
            34["out"]
        end
        subgraph "detested(Animal)"
            35["in"]
            36["out"]
        end
    end
    subgraph "-prowler(Prowler),gazer(Prowler)"
        subgraph "-prowler(Prowler)"
            37["in"]
            38["out"]
        end
        subgraph "gazer(Prowler)"
            39["in"]
            40["out"]
        end
    end
    subgraph "kangaroo(the_kangaroo)"
        subgraph "kangaroo(the_kangaroo)"
            41["in"]
            42["out"]
        end
    end
    subgraph "-avoided(the_kangaroo),-avoided(the_kangaroo),in"
        subgraph "-avoided(the_kangaroo)"
            43["in"]
            44["out"]
        end
    end
    %% edges connecting the same literal in one clause
    1 ~~~ 2
    3 ~~~ 4
    5 ~~~ 6
    7 ~~~ 8
    9 ~~~ 10
    11 ~~~ 12
    13 ~~~ 14
    15 ~~~ 16
    17 ~~~ 18
    19 ~~~ 20
    21 ~~~ 22
    23 ~~~ 24
    25 ~~~ 26
    27 ~~~ 28
    29 ~~~ 30
    31 ~~~ 32
    33 ~~~ 34
    35 ~~~ 36
    37 ~~~ 38
    39 ~~~ 40
    41 ~~~ 42
    43 ~~~ 44

    %% edges marking different "paths" through the clauses
    1 <---> 4
    2 <---> 3

    5 <---> 8
    6 <---> 7

    9 <---> 12
    10 <---> 11

    13 <---> 16
    14 <---> 15

    17 <---> 20
    18 <---> 19

    21 <---> 24
    22 <---> 23

    25 <---> 28
    26 <---> 27

    29 <---> 32
    30 <---> 31

    33 <---> 36
    34 <---> 35
    
    37 <---> 40
    38 <---> 39

    %%connections between clauses
    2 ---> 23
    4 ---> 17
    6 ---> 39
    10 ---> 35
    12 ---> 43
    14 ---> 31
    16 ---> 37
    18 ---> 3
    20 ---> 29
    22 ---> 33
    24 ---> 1
    26 ---> 41
    28 ---> 7
    30 ---> 19
    32 ---> 13
    34 ---> 21
    36 ---> 9
    38 ---> 15
    40 ---> 5
    42 ---> 25
    44 ---> 11